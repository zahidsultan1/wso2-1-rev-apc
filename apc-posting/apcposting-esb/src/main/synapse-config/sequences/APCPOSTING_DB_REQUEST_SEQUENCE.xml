<?xml version="1.0" encoding="UTF-8"?>
<sequence name="APCPOSTING_DB_REQUEST_SEQUENCE" trace="disable" xmlns="http://ws.apache.org/ns/synapse">
    <dbreport>
        <connection>
            <pool>
                <dsName>jdbc/APCpostingLog</dsName>
            </pool>
        </connection>
        <statement>
            <sql><![CDATA[INSERT INTO LOG_REQUEST (ID, API_NAME, INTERFACE_NAME, REQUEST, REQUEST_TIME, MSISDN, SOURCE_IP, RESOURCE_URI, REQUESTTIME) VALUES (?,?,?,?,?,?,?,?,?)]]></sql>
            <parameter expression="$ctx:TRANSACTION_ID" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
            <parameter expression="$ctx:API_NAME" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
            <parameter expression="$ctx:INTERFACE_NAME" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
            <parameter expression="$ctx:REQUEST" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
            <parameter expression="get-property('SYSTEM_DATE', 'yyyy-MM-dd HH:mm:ss.SSS')" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
            <parameter expression="$ctx:MSISDN" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
            <parameter expression="get-property('SERVER_IP')" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
            <parameter expression="$ctx:RESOURCE_URI" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
            <parameter expression="get-property('SYSTEM_DATE', 'yyyy-MM-dd HH:mm:ss')" type="VARCHAR" xmlns:ns="http://org.apache.synapse/xsd"/>
        </statement>
    </dbreport>
</sequence>
